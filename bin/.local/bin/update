#!/usr/bin/env bash

# Source custom functions
. "${HOME}"/.config/bashrc/functions

# Show program help/usage
usage() {
  echo "update -- UPDATE ALL THE THINGS!"
  echo
  echo "Usage: update -[option]"
  echo
  echo "options:"
  echo "  -h    print help menu and exit"
  echo "  -a    update Anaconda and Conda packages"
  echo "  -b    update HomeBrew formulas and casks"
  echo "  -d    update dotfiles repo and restow packages"
  echo "  -p    Update user Python packages"
  echo "  -r    update RVM and Ruby gems"
  echo "  -s    regenerate bash_profile and bashrc"
  echo "  -y    download and update external RPMs (linux only)"
  echo
  exit 0
}

error() {
  echo "Invalid option. Usage: update [$OPTIONS]"
  exit 0
}

# Define all options
OPTIONS="habdprsy"

while getopts ":${OPTIONS}" flag; do
  case "${flag}" in
    h ) usage ;;
    a ) coil ;;
    b ) steep ;;
    d ) mydots ;;
    p ) pup ;;
    r ) shine ;;
    s ) generate-dotfiles ;;
    y ) yum2 ;;
    \?) error ;;
    * ) error ;;
  esac
done

if [[ $OPTIND -eq 1 ]]; then error; fi

echo
exit 0
